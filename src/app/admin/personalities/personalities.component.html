<nb-card *ngIf="showListing">

    <nb-card-header>
      Personalities
    </nb-card-header>
  
    <nb-card-body>
      <ng2-smart-table [settings]="settings" [source]="source" (create)="createPersonality()" (edit) = "editPersonality($event)" (delete)="onDeleteConfirm($event)">
      </ng2-smart-table>
    </nb-card-body>
</nb-card>

<nb-card *ngIf="showAddForm">
  <nb-card-header>
    Add Personality
  </nb-card-header>

  <nb-card-body>
    <form [formGroup]="profileForm" (ngSubmit)="onCreateConfirm()" autocomplete="off">
      
      <div class="form-group row">
        <label for="inputName" class="label col-sm-3 col-form-label">Name</label>
        <div class="col-sm-9">
          <input type="text" formControlName="question" nbInput fullWidth id="inputName" placeholder="Question" required autocomplete="off">
        </div>
      </div>
      <div class="form-group row">
        <label for="inputImage" class="label col-sm-3 col-form-label">Option 1</label>
        <div class="col-sm-5">
          <input type="file" accept="image/*"  nbInput fullWidth (change)="uploadFile($event)">    
          <input type="hidden" formControlName="option_1_icon" nbInput fullWidth id="inputOptionIcon1">      
        </div>
        <div class="col-sm-4">
          <input type="text" formControlName="option_1_value" nbInput fullWidth id="inputOption1Value" placeholder="Value" required>
        </div>        
      </div>

      <div class="form-group row">
        <label for="inputImage" class="label col-sm-3 col-form-label">Option 2</label>
        <div class="col-sm-5">
          <input type="file" accept="image/*"  nbInput fullWidth (change)="uploadFile1($event)">    
          <input type="hidden" formControlName="option_2_icon" nbInput fullWidth id="inputOptionIcon2">      
        </div>
        <div class="col-sm-4">
          <input type="text" formControlName="option_2_value" nbInput fullWidth id="inputOption2Value" placeholder="Value" required>
        </div>        
      </div>
      
      <div class="form-group row">
        <div class="offset-sm-3 col-sm-9">
          <button type="submit" [disabled]="!profileForm.valid" nbButton status="success">Save</button>&nbsp;&nbsp;
          <button type="button" (click) = "resetListing()" nbButton status="primary">Cancel</button>
        </div>
      </div>
    </form>
  </nb-card-body>
</nb-card>

<nb-card *ngIf="showEditForm">
  <nb-card-header>
    Edit Personality
  </nb-card-header>

  <nb-card-body>
    <form [formGroup]="profileForm" (ngSubmit)="onEditConfirm()" autocomplete="off">
      <div class="form-group row">
        <label for="inputName" class="label col-sm-3 col-form-label">Name</label>
        <div class="col-sm-9">
          <input type="text" formControlName="question" nbInput fullWidth id="inputName" placeholder="Question" required autocomplete="off">
        </div>
      </div>
      <div class="form-group row">
        <label for="inputImage" class="label col-sm-3 col-form-label">Option 1</label>
        
        <div class="col-sm-4">
          <input type="file" accept="image/*"  nbInput fullWidth (change)="uploadFile($event)">    
          <input type="hidden" formControlName="option_1_icon" nbInput fullWidth id="inputOptionIcon1">      
        </div>
        <div class="col-sm-4">
          <input type="text" formControlName="option_1_value" nbInput fullWidth id="inputOption1Value" placeholder="Value" required>
        </div>    
        <div class="col-sm-1" class="icon-img"><div [style.background-image]="'url(' + option_1_icon_image + ')'"  ></div></div>    
      </div>

      <div class="form-group row">
        <label for="inputImage" class="label col-sm-3 col-form-label">Option 2</label>
        
        <div class="col-sm-4">
          <input type="file" accept="image/*"  nbInput fullWidth (change)="uploadFile1($event)">    
          <input type="hidden" formControlName="option_2_icon" nbInput fullWidth id="inputOptionIcon2">      
        </div>
        <div class="col-sm-4">
          <input type="text" formControlName="option_2_value" nbInput fullWidth id="inputOption2Value" placeholder="Value" required>
        </div>    
        <div class="col-sm-1" class="icon-img"><div [style.background-image]="'url(' + option_2_icon_image + ')'"  ></div></div>     
      </div>  
      <div class="form-group row">
        <div class="offset-sm-3 col-sm-9">
          <button type="submit" [disabled]="!profileForm.valid" nbButton status="success">Save</button>&nbsp;&nbsp;
          <button type="button" (click) = "resetListing()" nbButton status="primary">Cancel</button>
        </div>
      </div>
    </form>
  </nb-card-body>
</nb-card>